[gd_scene load_steps=2 format=3 uid="uid://dmfwggxm8eieo"]

[sub_resource type="GDScript" id="GDScript_1cy2t"]
script/source = "extends Panel

#@onready var quest = \"res://state.gd\"
@onready var questLabel = get_node(\"Label\")
@onready var questtext: String = \"\"

func _process(delta):
	cekQuest()

func cekQuest():
	var quest = State.questInfo
	var taken = false
	var takenMission = -1
	questLabel.text = \"Cari Quest Dulu\"
	for i in range(3):
		if quest[i][\"taken\"]:
			taken = true
			takenMission = i
			
	if taken:
		if quest[takenMission][\"item\"] == \"1\":
			questLabel.text = quest[takenMission][\"text2\"]
		else:
			questLabel.text = quest[takenMission][\"text1\"]



	#Daftar quest
#	var questNames = [1]
#	#Loop untuk memeriksa status quest

#	for questName in questNames:
#		var quest = State.questInfo[questName]
#		if not quest[\"status\"]:
#			if not quest[\"taken\"]:
#				questLabel.text = \"Cari Quest Dulu\"
#			else:
#				if quest[\"item\"] == \"1\":
#					questLabel.text = quest[\"text2\"]
#				else:
#					questLabel.text = quest[\"text1\"]
#		else:
#			questLabel.text = \"Cari Quest\"

#	if State.quest1Status == false:
#		if State.get_quest1 == false:
#			questLabel.text = \"cari Quest\"
#		else:
#				if State.reqItem1 == \"1\":
#					questLabel.text = State.quest1text2
#				else:
#					questLabel.text = State.quest1text1
#	else:
#		questLabel.text = \"cari Quest\"	
"

[node name="QuestPanel" type="Panel"]
offset_right = 104.0
offset_bottom = 48.0
size_flags_horizontal = 3
script = SubResource("GDScript_1cy2t")

[node name="Label" type="Label" parent="."]
layout_mode = 0
offset_left = 8.0
offset_top = 8.0
offset_right = 135.0
offset_bottom = 60.0
scale = Vector2(0.644, 0.644)
text = "- ini quest yang panjang"
autowrap_mode = 3
